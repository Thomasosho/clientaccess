<section class="bg-white">
  <div class="container-fluid">
    <div class="row ca-login-section">
      <div class="col-md-6">
        <div class="mt-3">
          <a routerLink="/">
            <img width="200px" src="/assets/img/logo/logo-primary.svg" alt="" />
          </a>
        </div>
        <div class="ca-login-container">
          <div class="">
            <form (ngSubmit)="login()" [formGroup]="loginForm">
              <h1>SIGN IN</h1>
              <div class="form-group mt-5">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i class="icon-user"></i
                    ></span>
                  </div>
                  <input
                    type="text"
                    class="form-control"
                    formControlName="username"
                    placeholder="Email"
                    autocomplete="email"
                    required
                    aria-describedby="Email Address"
                    [ngClass]="{
                      'is-invalid':
                        loginForm.get('username').touched &&
                        loginForm.get('username').dirty &&
                        !loginForm.get('username').valid
                    }"
                    username
                  />
                </div>
                <div
                  class="text-center"
                  *ngIf="
                    loginForm.get('username').invalid &&
                    loginForm.get('username').touched
                  "
                >
                  <small class="text-danger pb-2"
                    >Input your email correctly</small
                  >
                </div>
              </div>
              <div class="input-group mb-4">
                <div class="input-group-prepend">
                  <span class="input-group-text"
                    ><i class="icon-lock"></i
                  ></span>
                </div>
                <input
                  #ShowHideInput
                  type="password"
                  class="form-control"
                  formControlName="password"
                  placeholder="Password"
                  autocomplete="current-password"
                  required
                  aria-describedby="password"
                  [ngClass]="{
                    'is-invalid':
                      (loginForm.get('password').touched ||
                        loginForm.get('password').dirty) &&
                      !loginForm.get('password').valid
                  }"
                />
                <i
                  #ShowHideIcon
                  class="fa fa-eye my-auto mx-4 h-50 password-icon"
                  (click)="peekPassword()"
                  aria-hidden="true"
                ></i>
              </div>
              <div class="row">
                <div
                  class="text-center my-2"
                  [ngClass]="successful ? 'text-sucess' : 'text-danger'"
                >
                  <strong>{{ message }}</strong>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <button
                    class="btn ca-btn-primary btn-block"
                    type="button"
                    disabled
                    *ngIf="loading"
                  >
                    <span
                      class="spinner-border spinner-border-sm"
                      role="status"
                      aria-hidden="true"
                    ></span>
                    Loading...
                  </button>
                  <button
                    type="submit"
                    class="btn ca-btn-primary btn-block"
                    data-toggle="tooltip"
                    [title]="loginForm.valid ? '' : 'Form not valid'"
                    [disabled]="!loginForm.valid"
                    *ngIf="!loading"
                  >
                    Login
                  </button>
                </div>
              </div>
            </form>
            <div class="mt-3 pt-2">
              <div class="h-100 my-auto">
                Don't have an account ?
                <a routerLink="/register">
                  <span
                    class="ca-text-primary text-uppercase font-weight-bolder"
                    >Sign up</span
                  >
                </a>
              </div>
              <div class="mt-3">
                <a [routerLink]="['/reset-password']">
                  <span
                    class="ca-text-primary text-uppercase font-weight-bolder"
                    >Forgot password</span
                  >
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 ca-side-banner"></div>
    </div>
  </div>
</section>
