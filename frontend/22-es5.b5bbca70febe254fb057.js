function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Kb0Y:function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",(function(){return _e}));var r=i("ofXK"),n=i("tyNb"),o=i("RdAW"),c=i("3Pt+"),a=i("fXoL"),b=i("SiJz"),s=i("DaGL"),d=i("IxO+");function l(e,t){1&e&&(a.Zb(0,"div",48),a.Zb(1,"div",49),a.Zb(2,"span",50),a.Hc(3,"Loading..."),a.Yb(),a.Yb(),a.Zb(4,"div",51),a.Zb(5,"span",50),a.Hc(6,"Loading..."),a.Yb(),a.Yb(),a.Zb(7,"div",52),a.Zb(8,"span",50),a.Hc(9,"Loading..."),a.Yb(),a.Yb(),a.Yb())}function u(e,t){1&e&&(a.Zb(0,"button",53),a.Ub(1,"span",54),a.Hc(2," Loading... "),a.Yb())}function m(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",55),a.hc("click",(function(){return a.yc(i),a.jc().addTender()})),a.Hc(1,"Add Tender"),a.Yb()}if(2&e){var r=a.jc();a.qc("disabled",!r.tenderForm.valid)}}var p,f=((p=function(){function e(t,i,r,n){_classCallCheck(this,e),this.crudService=t,this.router=i,this.swalService=r,this.form=n,this.loading=!1,this.category="",this.mdas=[],this.uploadLoading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.tenderForm=this.form.group({title:["",c.C.required],mdaName:["",c.C.required],openingInfo:["",c.C.required],applicationFee:["",c.C.required],collectionOfBidDocument:["",c.C.required],closingInfo:["",c.C.required],introduction:["",c.C.required],disclaimer:["",c.C.required],notes:["",c.C.required],category:["",c.C.required],openingDate:["",c.C.required],expiryDate:["",c.C.required]})}},{key:"getUploadUrl",value:function(e){var t=this,i=e.target.files[0],r=new FormData;r.append("file",i,i.name),this.uploadLoading=!0,this.crudService.postRequestFile("uploadMe",r).subscribe((function(e){0===e.code?(t.fileUrl=e.message,t.uploadLoading=!1,t.swalService.success("File path saved.")):(t.swalService.error("An error occured"),t.uploadLoading=!1)}),(function(e){console.log(e),t.uploadLoading=!1,t.swalService.error("Could not get file path.")}))}},{key:"addTender",value:function(){var e=this;this.loading=!0,this.tenderForm.value.id=0,this.tenderForm.value.billOfQuantityUrl=this.fileUrl,this.tenderForm.value.mdaId=Number(this.tenderForm.value.mdaId),this.crudService.postRequest("api/tender/add",this.tenderForm.value).subscribe((function(t){console.log(t),e.loading=!1,0===t.code?(e.swalService.success(t.message),e.router.navigate(["/admin/tender"])):e.swalService.error("An Error Occured")}),(function(t){console.log(t),e.loading=!1,e.swalService.error("An Error Occured")}))}}]),e}()).\u0275fac=function(e){return new(e||p)(a.Tb(b.a),a.Tb(n.c),a.Tb(s.a),a.Tb(c.f))},p.\u0275cmp=a.Nb({type:p,selectors:[["app-create-tender"]],decls:94,vars:6,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","title",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","title","formControlName","title","name","title","placeholder","Title",1,"form-control"],["for","mdaName",1,"col-md-3","col-form-label"],["type","text","id","mdaName","formControlName","mdaName","name","mdaName","placeholder","Ministry, department or agency",1,"form-control"],["for","category",1,"col-md-3","col-form-label"],["id","category","name","category","formControlName","category",1,"form-control"],["value","","selected","","disabled","","hidden",""],["value","Expression of Interest"],["value","Invitation to Tender"],["value","Pre-Qualification"],["value","Request for Submission"],["for","introduction",1,"col-md-3","col-form-label"],["type","text","id","introduction","formControlName","introduction","name","introduction","placeholder","Introduction",1,"form-control"],["type","number","id","applicationFee","formControlName","applicationFee","name","applicationFee","placeholder","Application Fee",1,"form-control"],["for","collectionOfBidDocument",1,"col-md-3","col-form-label"],["type","text","id","collectionOfBidDocument","formControlName","collectionOfBidDocument","name","collectionOfBidDocument","placeholder","Collection of Tender Documents",1,"form-control"],["for","closingInfo",1,"col-md-3","col-form-label"],["type","text","id","closingInfo","formControlName","closingInfo","name","closingInfo","placeholder","Submission Information",1,"form-control"],["for","date-input",1,"col-md-3","col-form-label"],["formControlName","openingDate","id","date-input","type","date","name","date-input","placeholder","date",1,"form-control"],["for","openingInfo",1,"col-md-3","col-form-label"],["type","text","id","openingInfo","formControlName","openingInfo","name","openingInfo","placeholder","Opening Information",1,"form-control"],["formControlName","expiryDate","id","date-input","type","date","name","date-input","placeholder","date",1,"form-control"],["for","notes",1,"col-md-3","col-form-label"],["type","text","id","notes","formControlName","notes","name","notes","placeholder","Notes",1,"form-control"],["for","disclaimer",1,"col-md-3","col-form-label"],["type","text","id","disclaimer","formControlName","disclaimer","name","disclaimer","placeholder","Disclaimer",1,"form-control"],["class","row d-flex justify-content-center my-2",4,"ngIf"],["for","file-input",1,"col-md-3","col-form-label"],[1,"col-md-3"],[1,"mx-auto","my-1"],["src","../../../../../assets/img/excel.png","width","80%","height","120","alt","","srcset",""],[1,"col-md-6","my-auto"],["type","file","id","file-input","name","file-input",3,"change"],[1,"mt-1"],[1,"text-danger"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"disabled","click",4,"ngIf"],[3,"show","spinnerColor"],[1,"row","d-flex","justify-content-center","my-2"],["role","status",1,"spinner-grow","text-success"],[1,"sr-only"],["role","status",1,"spinner-grow","text-primary"],["role","status",1,"spinner-grow","text-info"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"disabled","click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Add Tender"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"form",5),a.hc("ngSubmit",(function(){return t.addTender()})),a.Zb(8,"div",6),a.Zb(9,"label",7),a.Hc(10,"Title"),a.Yb(),a.Zb(11,"div",8),a.Ub(12,"input",9),a.Yb(),a.Yb(),a.Zb(13,"div",6),a.Zb(14,"label",10),a.Hc(15,"MDA"),a.Yb(),a.Zb(16,"div",8),a.Ub(17,"input",11),a.Yb(),a.Yb(),a.Zb(18,"div",6),a.Zb(19,"label",12),a.Hc(20,"Category"),a.Yb(),a.Zb(21,"div",8),a.Zb(22,"select",13),a.Zb(23,"option",14),a.Hc(24,"Please select category"),a.Yb(),a.Zb(25,"option",15),a.Hc(26,"Expression of Interest"),a.Yb(),a.Zb(27,"option",16),a.Hc(28,"Invitation to Tender"),a.Yb(),a.Zb(29,"option",17),a.Hc(30,"Pre-Qualification"),a.Yb(),a.Zb(31,"option",18),a.Hc(32,"Request for Submission"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(33,"div",6),a.Zb(34,"label",19),a.Hc(35,"Introduction"),a.Yb(),a.Zb(36,"div",8),a.Ub(37,"textarea",20),a.Yb(),a.Yb(),a.Zb(38,"div",6),a.Zb(39,"label",7),a.Hc(40,"Application Fee"),a.Yb(),a.Zb(41,"div",8),a.Ub(42,"input",21),a.Yb(),a.Yb(),a.Zb(43,"div",6),a.Zb(44,"label",22),a.Hc(45,"Collection of Tender Documents"),a.Yb(),a.Zb(46,"div",8),a.Ub(47,"textarea",23),a.Yb(),a.Yb(),a.Zb(48,"div",6),a.Zb(49,"label",24),a.Hc(50,"Submission Information"),a.Yb(),a.Zb(51,"div",8),a.Ub(52,"textarea",25),a.Yb(),a.Yb(),a.Zb(53,"div",6),a.Zb(54,"label",26),a.Hc(55,"Opening Date"),a.Yb(),a.Zb(56,"div",8),a.Ub(57,"input",27),a.Yb(),a.Yb(),a.Zb(58,"div",6),a.Zb(59,"label",28),a.Hc(60,"Closing Date and Opening Information"),a.Yb(),a.Zb(61,"div",8),a.Ub(62,"textarea",29),a.Yb(),a.Yb(),a.Zb(63,"div",6),a.Zb(64,"label",26),a.Hc(65,"Expiry Date"),a.Yb(),a.Zb(66,"div",8),a.Ub(67,"input",30),a.Yb(),a.Yb(),a.Zb(68,"div",6),a.Zb(69,"label",31),a.Hc(70,"Notes"),a.Yb(),a.Zb(71,"div",8),a.Ub(72,"textarea",32),a.Yb(),a.Yb(),a.Zb(73,"div",6),a.Zb(74,"label",33),a.Hc(75,"Disclaimer"),a.Yb(),a.Zb(76,"div",8),a.Ub(77,"textarea",34),a.Yb(),a.Yb(),a.Fc(78,l,10,0,"div",35),a.Zb(79,"div",6),a.Zb(80,"label",36),a.Hc(81,"Upload Bill of Qunatity (Optional)"),a.Yb(),a.Zb(82,"div",37),a.Zb(83,"div",38),a.Ub(84,"img",39),a.Yb(),a.Yb(),a.Zb(85,"div",40),a.Zb(86,"input",41),a.hc("change",(function(e){return t.getUploadUrl(e)})),a.Yb(),a.Zb(87,"div",42),a.Zb(88,"small",43),a.Hc(89," (Bill of Quantity should be in excel format and not more than 4MB)."),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(90,"div",44),a.Fc(91,u,3,0,"button",45),a.Fc(92,m,2,1,"button",46),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Ub(93,"ngx-loading-x",47)),2&e&&(a.Hb(7),a.qc("formGroup",t.tenderForm),a.Hb(71),a.qc("ngIf",t.uploadLoading),a.Hb(13),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading),a.Hb(1),a.qc("show",t.loading)("spinnerColor","#3a9d5d"))},directives:[c.E,c.p,c.i,c.c,c.o,c.h,c.A,c.t,c.D,c.u,r.t,d.a],styles:[".check[_ngcontent-%COMP%]{margin:1.1rem}.btn[_ngcontent-%COMP%]{border-radius:10em}"]}),p),v=i("rvnR"),h=i("1LjI");function g(e,t){if(1&e&&(a.Zb(0,"option",46),a.Hc(1),a.Yb()),2&e){var i=t.$implicit;a.qc("value",i.id),a.Hb(1),a.Jc("",i.name," ")}}function Y(e,t){1&e&&(a.Zb(0,"div",47),a.Zb(1,"div",48),a.Zb(2,"span",49),a.Hc(3,"Loading..."),a.Yb(),a.Yb(),a.Zb(4,"div",50),a.Zb(5,"span",49),a.Hc(6,"Loading..."),a.Yb(),a.Yb(),a.Zb(7,"div",51),a.Zb(8,"span",49),a.Hc(9,"Loading..."),a.Yb(),a.Yb(),a.Yb())}function Z(e,t){1&e&&(a.Zb(0,"button",52),a.Ub(1,"span",53),a.Hc(2," Loading... "),a.Yb())}function y(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",54),a.hc("click",(function(){return a.yc(i),a.jc().editTender()})),a.Hc(1,"Edit Tender"),a.Yb()}}var H,C=((H=function(){function e(t,i,r,n,o){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.companyService=r,this.swalService=n,this.form=o,this.loading=!1,this.uploadLoading=!1,this.category="",this.mdas=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTender(),this.getMda(),this.tenderForm=this.form.group({title:[this.tender.title,c.C.required],mdaId:[this.tender.mdaId,c.C.required],openingInfo:[this.tender.openingInfo,c.C.required],applicationFee:[this.tender.applicationFee,c.C.required],collectionOfBidDocument:[this.tender.collectionOfBidDocument,c.C.required],introduction:[this.tender.introduction,c.C.required],disclaimer:[this.tender.disclaimer,c.C.required],notes:[this.tender.notes,c.C.required],lotsGroups:[this.tender.lotsGroups,c.C.required],category:[this.tender.category,c.C.required],otherReq:[this.tender.otherReq,c.C.required],openingDate:[this.tender.openingDate,c.C.required],expiryDate:[this.tender.expiryDate,c.C.required]})}},{key:"editTender",value:function(){var e=this;this.loading=!0,this.tenderForm.value.id=this.tender.id,this.crudService.putRequest("api/tender/edit",this.tenderForm.value).subscribe((function(t){e.loading=!1,console.log(t),0===t.code?e.swalService.success(t.message):e.swalService.error("An Error Occured")}),(function(t){e.loading=!1,console.log(t),e.swalService.error("An Error Occured")}))}},{key:"getUploadUrl",value:function(e){var t=this,i=e.target.files[0],r=new FormData;r.append("file",i,i.name),this.uploadLoading=!0,this.crudService.postRequestFile("uploadMe",r).subscribe((function(e){0===e.code?(t.tenderForm.value.billOfQuantityUrl=e.message,t.uploadLoading=!1,t.swalService.success("File path saved.")):(t.swalService.error("An error occured"),t.uploadLoading=!1)}),(function(e){console.log(e),t.uploadLoading=!1,t.swalService.error("Could not get file path.")}))}},{key:"getMda",value:function(){var e=this,t=this.utilService.getToken();this.crudService.getRequestImAuth("api/mda/findAll",t).subscribe((function(t){console.log(t),t.map((function(t){var i=t.mdaPojo;if(null!==i){var r=i.id,n=i.name;e.mdas.push({id:r,name:n})}}))}),(function(e){return console.log(e)}))}},{key:"getTender",value:function(){this.tender=this.companyService.getTender()}}]),e}()).\u0275fac=function(e){return new(e||H)(a.Tb(b.a),a.Tb(v.a),a.Tb(h.a),a.Tb(s.a),a.Tb(c.f))},H.\u0275cmp=a.Nb({type:H,selectors:[["app-edit-tender"]],decls:89,vars:5,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","title",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","title","formControlName","title","name","title","placeholder","Title",1,"form-control"],["for","mdaId",1,"col-md-3","col-form-label"],["id","mdaId","name","mdaId","formControlName","mdaId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","category",1,"col-md-3","col-form-label"],["id","category","name","category","formControlName","category",1,"form-control"],["value","","selected","","disabled","","hidden",""],["value","Expression of Interest"],["value","Invitation to Tender"],["value","Pre-Qualification"],["value","Request for Submission"],["for","introduction",1,"col-md-3","col-form-label"],["type","text","id","introduction","formControlName","introduction","name","introduction","placeholder","Introduction",1,"form-control"],["type","number","id","applicationFee","formControlName","applicationFee","name","applicationFee","placeholder","Application Fee",1,"form-control"],["for","collectionOfBidDocument",1,"col-md-3","col-form-label"],["type","text","id","collectionOfBidDocument","formControlName","collectionOfBidDocument","name","collectionOfBidDocument","placeholder","Collection of Bid Document",1,"form-control"],["for","date-input",1,"col-md-3","col-form-label"],["formControlName","openingDate","id","date-input","type","date","name","date-input","placeholder","date",1,"form-control"],["for","openingInfo",1,"col-md-3","col-form-label"],["type","text","id","openingInfo","formControlName","openingInfo","name","openingInfo","placeholder","Opening Information",1,"form-control"],["formControlName","expiryDate","id","date-input","type","date","name","date-input","placeholder","date",1,"form-control"],["for","notes",1,"col-md-3","col-form-label"],["type","text","id","notes","formControlName","notes","name","notes","placeholder","Notes",1,"form-control"],["for","disclaimer",1,"col-md-3","col-form-label"],["type","text","id","disclaimer","formControlName","disclaimer","name","disclaimer","placeholder","Disclaimer",1,"form-control"],["class","row d-flex justify-content-center my-2",4,"ngIf"],["for","file-input",1,"col-md-3","col-form-label"],[1,"col-md-3"],[1,"mx-auto","my-1"],["src","../../../../../assets/img/excel.png","width","80%","height","120","alt","","srcset",""],[1,"col-md-6","my-auto"],["type","file","id","file-input","name","file-input",3,"change"],[1,"mt-1"],[1,"text-danger"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],[3,"value"],[1,"row","d-flex","justify-content-center","my-2"],["role","status",1,"spinner-grow","text-success"],[1,"sr-only"],["role","status",1,"spinner-grow","text-primary"],["role","status",1,"spinner-grow","text-info"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Edit Tender"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"form",5),a.hc("ngSubmit",(function(){return t.editTender()})),a.Zb(8,"div",6),a.Zb(9,"label",7),a.Hc(10,"Title"),a.Yb(),a.Zb(11,"div",8),a.Ub(12,"input",9),a.Yb(),a.Yb(),a.Zb(13,"div",6),a.Zb(14,"label",10),a.Hc(15,"MDA"),a.Yb(),a.Zb(16,"div",8),a.Zb(17,"select",11),a.Fc(18,g,2,2,"option",12),a.Yb(),a.Yb(),a.Yb(),a.Zb(19,"div",6),a.Zb(20,"label",13),a.Hc(21,"Category"),a.Yb(),a.Zb(22,"div",8),a.Zb(23,"select",14),a.Zb(24,"option",15),a.Hc(25,"Please select category"),a.Yb(),a.Zb(26,"option",16),a.Hc(27,"Expression of Interest"),a.Yb(),a.Zb(28,"option",17),a.Hc(29,"Invitation to Tender"),a.Yb(),a.Zb(30,"option",18),a.Hc(31,"Pre-Qualification"),a.Yb(),a.Zb(32,"option",19),a.Hc(33,"Request for Submission"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(34,"div",6),a.Zb(35,"label",20),a.Hc(36,"Introduction"),a.Yb(),a.Zb(37,"div",8),a.Ub(38,"textarea",21),a.Yb(),a.Yb(),a.Zb(39,"div",6),a.Zb(40,"label",7),a.Hc(41,"Application Fee"),a.Yb(),a.Zb(42,"div",8),a.Ub(43,"input",22),a.Yb(),a.Yb(),a.Zb(44,"div",6),a.Zb(45,"label",23),a.Hc(46,"Collection of Tender Document"),a.Yb(),a.Zb(47,"div",8),a.Ub(48,"textarea",24),a.Yb(),a.Yb(),a.Zb(49,"div",6),a.Zb(50,"label",25),a.Hc(51,"Opening Date"),a.Yb(),a.Zb(52,"div",8),a.Ub(53,"input",26),a.Yb(),a.Yb(),a.Zb(54,"div",6),a.Zb(55,"label",27),a.Hc(56,"Closing Date and Opening Information"),a.Yb(),a.Zb(57,"div",8),a.Ub(58,"textarea",28),a.Yb(),a.Yb(),a.Zb(59,"div",6),a.Zb(60,"label",25),a.Hc(61,"Expiry Date"),a.Yb(),a.Zb(62,"div",8),a.Ub(63,"input",29),a.Yb(),a.Yb(),a.Zb(64,"div",6),a.Zb(65,"label",30),a.Hc(66,"Notes"),a.Yb(),a.Zb(67,"div",8),a.Ub(68,"textarea",31),a.Yb(),a.Yb(),a.Zb(69,"div",6),a.Zb(70,"label",32),a.Hc(71,"Disclaimer"),a.Yb(),a.Zb(72,"div",8),a.Ub(73,"textarea",33),a.Yb(),a.Yb(),a.Fc(74,Y,10,0,"div",34),a.Zb(75,"div",6),a.Zb(76,"label",35),a.Hc(77,"Upload Bill of Qunatity (Optional)"),a.Yb(),a.Zb(78,"div",36),a.Zb(79,"div",37),a.Ub(80,"img",38),a.Yb(),a.Yb(),a.Zb(81,"div",39),a.Zb(82,"input",40),a.hc("change",(function(e){return t.getUploadUrl(e)})),a.Yb(),a.Zb(83,"div",41),a.Zb(84,"small",42),a.Hc(85," (Bill of Quantity should be in excel format and not more than 4MB)."),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(86,"div",43),a.Fc(87,Z,3,0,"button",44),a.Fc(88,y,2,0,"button",45),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(7),a.qc("formGroup",t.tenderForm),a.Hb(11),a.qc("ngForOf",t.mdas),a.Hb(56),a.qc("ngIf",t.uploadLoading),a.Hb(13),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading))},directives:[c.E,c.p,c.i,c.c,c.o,c.h,c.A,r.s,c.t,c.D,c.u,r.t],styles:[""]}),H);function q(e,t){if(1&e&&(a.Zb(0,"div"),a.Zb(1,"span"),a.Hc(2),a.kc(3,"titlecase"),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(2),a.Ic(a.lc(3,1,i.name))}}function w(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Fc(8,q,4,3,"div",8),a.Yb(),a.Zb(9,"td"),a.Zb(10,"div"),a.Hc(11),a.kc(12,"date"),a.Yb(),a.Yb(),a.Zb(13,"td",10),a.Zb(14,"button",11),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().resetPassword(e.email)})),a.Hc(15,"Reset"),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit;a.Hb(3),a.Jc(" ",r.email||""," "),a.Hb(3),a.Jc(" ",r.phoneNumber||""," "),a.Hb(2),a.qc("ngForOf",r.rolesList),a.Hb(3),a.Jc(" ",a.mc(12,4,r.regDate,"medium")," ")}}function S(e,t){1&e&&(a.Zb(0,"div",12),a.Zb(1,"span"),a.Hc(2,"No users registered yet."),a.Yb(),a.Yb())}var k,x=((k=function(){function e(t,i,r){_classCallCheck(this,e),this.crudService=t,this.swalService=i,this.utilService=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0;var t=this.utilService.getToken();this.crudService.getRequestImAuth("api/users/findAll",t).subscribe((function(t){console.log(t),e.users=t,e.loading=!1}),(function(t){console.log(t),e.loading=!1,e.swalService.error("There was an error fetching all accounts.")}))}},{key:"resetPassword",value:function(e){var t=this;this.loading=!0,this.crudService.getRequestNoAuth("api/users/forgotPassword/"+e).subscribe((function(e){t.loading=!1,t.swalService.success(e.message)}),(function(e){console.log(e),t.loading=!1,t.swalService.error(401===e.status?"Incorrect email":e.message)}))}}]),e}()).\u0275fac=function(e){return new(e||k)(a.Tb(b.a),a.Tb(s.a),a.Tb(v.a))},k.\u0275cmp=a.Nb({type:k,selectors:[["app-accounts"]],decls:23,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],[1,"text-center"],[1,"btn","btn-warning",3,"click"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"User Accounts"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"Email"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Phone Number"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Account Type"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Date Registered"),a.Yb(),a.Zb(18,"th"),a.Hc(19,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"tbody",7),a.Fc(21,w,16,7,"tr",8),a.Yb(),a.Yb(),a.Fc(22,S,3,0,"div",9),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(21),a.qc("ngForOf",t.users),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.users.length))},directives:[r.s,r.t],pipes:[r.f,r.F],styles:[""]}),k),F=i("K3ix"),T=i("IkSl");function I(e,t){if(1&e&&a.Ub(0,"img",3),2&e){var i=a.jc();a.qc("src",i.file,a.Ac)}}function A(e,t){if(1&e&&(a.Zb(0,"div",4),a.Ub(1,"pdf-viewer",5),a.Yb()),2&e){var i=a.jc();a.Hb(1),a.qc("src",i.file)("render-text",!0)}}var N,O=((N=function(){function e(t){_classCallCheck(this,e),this.companyService=t,this.doctype="img",this.file=this.companyService.getDocument()}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)(a.Tb(h.a))},N.\u0275cmp=a.Nb({type:N,selectors:[["app-view"]],inputs:{doctype:"doctype"},decls:3,vars:2,consts:[[1,"container","overflow-auto"],["width","100%","height","100%","alt","document","srcset","",3,"src",4,"ngIf"],["class","pdf-viewer overflow-auto",4,"ngIf"],["width","100%","height","100%","alt","document","srcset","",3,"src"],[1,"pdf-viewer","overflow-auto"],[2,"display","block",3,"src","render-text"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Fc(1,I,1,1,"img",1),a.Fc(2,A,2,2,"div",2),a.Yb()),2&e&&(a.Hb(1),a.qc("ngIf","img"===t.doctype),a.Hb(1),a.qc("ngIf","pdf"===t.doctype))},directives:[r.t,T.a],styles:[".pdf-viewer[_ngcontent-%COMP%]{height:600px;width:100%}"]}),N);function D(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.kc(13,"date"),a.Yb(),a.Yb(),a.Zb(14,"td",11),a.Zb(15,"button",12),a.hc("click",(function(){a.yc(i);var e=t.$implicit,r=a.jc(),n=a.wc(24);return r.openModal(n,e)})),a.Hc(16,"Affidavit"),a.Yb(),a.Zb(17,"button",13),a.hc("click",(function(){a.yc(i);var e=t.$implicit,r=a.jc(),n=a.wc(24);return r.openModal(n,e,"bank")})),a.Hc(18,"Bank Referral"),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit;a.Hb(3),a.Jc(" ",r.companyName||""," "),a.Hb(3),a.Jc(" ",r.tenderTitle||""," "),a.Hb(3),a.Jc(" ",r.mdaName||""," "),a.Hb(3),a.Jc(" ",a.mc(13,4,r.applicationDate,"mediumDate")," ")}}function R(e,t){1&e&&(a.Zb(0,"div",14),a.Zb(1,"span"),a.Hc(2,"No applications sent yet."),a.Yb(),a.Yb())}function L(e,t){if(1&e){var i=a.ac();a.Zb(0,"div",15),a.Zb(1,"h4",16),a.Hc(2,"Document"),a.Yb(),a.Zb(3,"button",17),a.hc("click",(function(){return a.yc(i),a.jc().modalRef.hide()})),a.Zb(4,"span",18),a.Hc(5,"\xd7"),a.Yb(),a.Yb(),a.Yb(),a.Zb(6,"div",19),a.Ub(7,"app-view"),a.Yb(),a.Zb(8,"div",20),a.Zb(9,"button",21),a.hc("click",(function(){return a.yc(i),a.jc().modalRef.hide()})),a.Hc(10,"Close"),a.Yb(),a.Yb()}}var j,U=((j=function(){function e(t,i,r,n){_classCallCheck(this,e),this.crudService=t,this.modalService=i,this.swalService=r,this.companyService=n,this.applications=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0,this.crudService.getRequest("api/tenderapplication/findAll").subscribe((function(t){console.log(t),e.applications=t,e.loading=!1}),(function(t){console.log(t),e.loading=!1,e.swalService.error("There was an error fetching all applications.")}))}},{key:"openModal",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"aff";this.companyService.setDocument("aff"===i?t.affidavitList[0]:t.bankRefList[0]),this.modalRef=this.modalService.show(e,Object.assign({},{class:"gray modal-lg"}))}}]),e}()).\u0275fac=function(e){return new(e||j)(a.Tb(b.a),a.Tb(F.a),a.Tb(s.a),a.Tb(h.a))},j.\u0275cmp=a.Nb({type:j,selectors:[["app-applications"]],decls:25,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],["template",""],[1,"text-center"],[1,"btn","ca-btn-primary","m-1",3,"click"],[1,"btn","btn-theme-primary","m-1",3,"click"],[1,"my-5","text-center"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"Applications"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"Contractor"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Lot"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"MDA"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Application Date"),a.Yb(),a.Zb(18,"th"),a.Hc(19,"Documents"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"tbody",7),a.Fc(21,D,19,7,"tr",8),a.Yb(),a.Yb(),a.Fc(22,R,3,0,"div",9),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Fc(23,L,11,0,"ng-template",null,10,a.Gc)),2&e&&(a.Hb(21),a.qc("ngForOf",t.applications),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.applications.length))},directives:[r.s,r.t,O],pipes:[r.f],styles:[""]}),j);function E(e,t){if(1&e&&(a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.kc(13,"date"),a.Yb(),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(3),a.Jc(" ",i.companyName," "),a.Hb(3),a.Jc(" ",i.email||""," "),a.Hb(3),a.Jc(" ",i.website," "),a.Hb(3),a.Jc(" ",a.mc(13,4,i.regDate,"medium")," ")}}function P(e,t){1&e&&(a.Zb(0,"div",10),a.Zb(1,"span"),a.Hc(2,"No contractors registered yet."),a.Yb(),a.Yb())}var _,J=((_=function(){function e(t,i){_classCallCheck(this,e),this.crudService=t,this.swalService=i,this.users=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0,this.crudService.getRequest("api/users/findAllContractors").subscribe((function(t){console.log(t),t.map((function(t){var i=t.userResponsePojo,r=t.companyProfilePojo,n=r.id,o=r.companyName,c=r.website,a=i.email,b=i.phoneNumber,s=i.regDate;e.users.push({id:n,companyName:o,email:a,phoneNumber:b,website:c,regDate:s})})),console.log(e.users),e.loading=!1}),(function(t){console.log(t),e.loading=!1,e.swalService.error("There was an error fetching all tender.")}))}}]),e}()).\u0275fac=function(e){return new(e||_)(a.Tb(b.a),a.Tb(s.a))},_.\u0275cmp=a.Nb({type:_,selectors:[["app-contractors"]],decls:21,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"Contractors"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"Company"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Email"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Website"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Date Registered"),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"tbody",7),a.Fc(19,E,14,7,"tr",8),a.Yb(),a.Yb(),a.Fc(20,P,3,0,"div",9),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(19),a.qc("ngForOf",t.users),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.users.length))},directives:[r.s,r.t],pipes:[r.f],styles:[""]}),_);function M(e,t){if(1&e&&(a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.kc(13,"date"),a.Yb(),a.Yb(),a.Zb(14,"td"),a.Zb(15,"div"),a.Hc(16),a.Yb(),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(3),a.Jc(" ",i.email||""," "),a.Hb(3),a.Jc(" ",i.phoneNumber," "),a.Hb(3),a.Jc(" ",i.category," "),a.Hb(3),a.Jc(" ",a.mc(13,5,i.dateCreated,"mediumDate")," "),a.Hb(4),a.Jc(" ",i.teamSize," ")}}function $(e,t){1&e&&(a.Zb(0,"div",10),a.Zb(1,"span"),a.Hc(2,"No artisans registered yet."),a.Yb(),a.Yb())}var B,G=((B=function(){function e(t,i){_classCallCheck(this,e),this.crudService=t,this.swalService=i,this.users=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0,this.crudService.getRequest("api/artisan/findAll").subscribe((function(t){console.log(t),e.users=t,e.loading=!1}),(function(t){console.log(t),e.loading=!1,e.swalService.error("There was an error fetching all tender.")}))}}]),e}()).\u0275fac=function(e){return new(e||B)(a.Tb(b.a),a.Tb(s.a))},B.\u0275cmp=a.Nb({type:B,selectors:[["app-artisans"]],decls:23,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"Artisans"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"Email"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Phone Number"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Skills"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Date Registered"),a.Yb(),a.Zb(18,"th"),a.Hc(19,"Team Size"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"tbody",7),a.Fc(21,M,17,8,"tr",8),a.Yb(),a.Yb(),a.Fc(22,$,3,0,"div",9),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(21),a.qc("ngForOf",t.users),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.users.length))},directives:[r.s,r.t],pipes:[r.f],styles:[""]}),B),Q=function(){return["/admin/create-tender"]};function z(e,t){if(1&e&&(a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.Yb(),a.Yb(),a.Zb(13,"td",7),a.Zb(14,"button",11),a.Hc(15,"Create"),a.Yb(),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(3),a.Jc(" ",i.name||"N/A"," "),a.Hb(3),a.Jc(" ",i.acronym||"N/A"," "),a.Hb(3),a.Jc(" ",i.category||"N/A"," "),a.Hb(3),a.Jc(" ",i.email||""," "),a.Hb(2),a.qc("routerLink",a.sc(5,Q))}}function V(e,t){1&e&&(a.Zb(0,"div",12),a.Zb(1,"span"),a.Hc(2,"No MDAs registered yet."),a.Yb(),a.Yb())}var K,W=((K=function(){function e(t,i){_classCallCheck(this,e),this.crudService=t,this.swalService=i,this.mdas=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0,this.crudService.getRequest("api/mda/findAll").subscribe((function(t){console.log(t),t.map((function(t){var i=t.userResponsePojo,r=t.mdaPojo,n=r.name,o=r.acronym,c=r.category,a=i.email;e.mdas.push({name:n,email:a,category:c,acronym:o})})),e.loading=!1}),(function(t){console.log(t),e.loading=!1,e.swalService.error("There was an error fetching all tender.")}))}}]),e}()).\u0275fac=function(e){return new(e||K)(a.Tb(b.a),a.Tb(s.a))},K.\u0275cmp=a.Nb({type:K,selectors:[["app-mdas"]],decls:23,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,"text-center"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],[1,"btn","btn-theme-primary",3,"routerLink"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"MDAs"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"MDA"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Acronym"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Category"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Email"),a.Yb(),a.Zb(18,"th",7),a.Hc(19,"Tender"),a.Yb(),a.Yb(),a.Yb(),a.Zb(20,"tbody",8),a.Fc(21,z,16,6,"tr",9),a.Yb(),a.Yb(),a.Fc(22,V,3,0,"div",10),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(21),a.qc("ngForOf",t.mdas),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.mdas.length))},directives:[r.s,r.t,n.d],styles:[""]}),K);function X(e,t){if(1&e&&(a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.kc(13,"date"),a.Yb(),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(3),a.Jc(" ",i.businessName||""," "),a.Hb(3),a.Jc(" ",i.email||"N/A"," "),a.Hb(3),a.Jc(" ",i.phoneNumber||"N/A"," "),a.Hb(3),a.Jc(" ",a.mc(13,4,i.regDate,"mediumDate")," ")}}function ee(e,t){1&e&&(a.Zb(0,"div",10),a.Zb(1,"span"),a.Hc(2,"No suppliers registered yet."),a.Yb(),a.Yb())}var te,ie=((te=function(){function e(t,i){_classCallCheck(this,e),this.crudService=t,this.swalService=i,this.suppliers=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAccounts()}},{key:"getAccounts",value:function(){var e=this;this.loading=!0,this.crudService.getRequest("api/supplier/findAll").subscribe((function(t){e.loading=!1,t.map((function(t){var i=t.email,r=t.dateCreated,n=t.businessName,o=t.phoneNumber;e.suppliers.push({businessName:n,email:i,phoneNumber:o,regDate:r})}))}),(function(t){e.loading=!1,e.swalService.error("There was an error fetching all suppliers.")}))}}]),e}()).\u0275fac=function(e){return new(e||te)(a.Tb(b.a),a.Tb(s.a))},te.\u0275cmp=a.Nb({type:te,selectors:[["app-suppliers"]],decls:21,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"Suppliers"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"thead",6),a.Zb(9,"tr"),a.Zb(10,"th"),a.Hc(11,"Supplier"),a.Yb(),a.Zb(12,"th"),a.Hc(13,"Email"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Phone Number"),a.Yb(),a.Zb(16,"th"),a.Hc(17,"Date Registered"),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"tbody",7),a.Fc(19,X,14,7,"tr",8),a.Yb(),a.Yb(),a.Fc(20,ee,3,0,"div",9),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(19),a.qc("ngForOf",t.suppliers),a.Hb(1),a.qc("ngIf",!t.loading&&0===t.suppliers.length))},directives:[r.s,r.t],pipes:[r.f],styles:[""]}),te);function re(e,t){if(1&e&&(a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Ub(3,"img",12),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td"),a.Zb(11,"div"),a.Hc(12),a.Yb(),a.Yb(),a.Zb(13,"td"),a.Zb(14,"div"),a.Hc(15),a.Yb(),a.Yb(),a.Zb(16,"td",13),a.Zb(17,"button",14),a.Hc(18,"Download"),a.Yb(),a.Yb(),a.Yb()),2&e){var i=t.$implicit;a.Hb(3),a.qc("src",i.imageUrl,a.Ac),a.Hb(3),a.Jc(" ",i.type," "),a.Hb(3),a.Jc(" ",i.description||"Description not available"," "),a.Hb(3),a.Jc(" ",i.certificateNum," "),a.Hb(3),a.Jc(" ",i.year," ")}}var ne,oe=((ne=function(){function e(t,i,r){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.route=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllDocuments(this.route.snapshot.params.id)}},{key:"getAllDocuments",value:function(e){var t=this;this.loading=!0,this.crudService.getRequest("api/companyprofile/getByCompanyId/"+e).subscribe((function(e){console.log(e),t.documents=e,t.loading=!1}),(function(e){console.log(e),t.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||ne)(a.Tb(b.a),a.Tb(v.a),a.Tb(n.a))},ne.\u0275cmp=a.Nb({type:ne,selectors:[["app-contractor-documents"]],decls:30,vars:1,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],["span","1",2,"width","20%"],["span","1",2,"width","35%"],["span","1",2,"width","15%"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["width","150","height","150","alt","","srcset","",3,"src"],[1,"text-center"],[1,"btn","btn-theme-primary"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"h2"),a.Hc(5,"All Documents(2)"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"colgroup"),a.Ub(9,"col",6),a.Ub(10,"col",7),a.Ub(11,"col",8),a.Ub(12,"col",8),a.Ub(13,"col",8),a.Yb(),a.Zb(14,"thead",9),a.Zb(15,"tr"),a.Zb(16,"th"),a.Hc(17,"Document"),a.Yb(),a.Zb(18,"th"),a.Hc(19,"Type"),a.Yb(),a.Zb(20,"th"),a.Hc(21,"Document Description"),a.Yb(),a.Zb(22,"th"),a.Hc(23,"Certificate Number"),a.Yb(),a.Zb(24,"th"),a.Hc(25,"Year"),a.Yb(),a.Zb(26,"th"),a.Hc(27,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(28,"tbody",10),a.Fc(29,re,19,5,"tr",11),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(29),a.qc("ngForOf",t.documents))},directives:[r.s],styles:[""]}),ne);function ce(e,t){if(1&e){var i=a.ac();a.Zb(0,"div",15),a.Zb(1,"input",16),a.hc("change",(function(e){a.yc(i);var r=t.index;return a.jc().onCheckChange(e,r)})),a.Yb(),a.Zb(2,"label",17),a.Hc(3),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit,n=t.index;a.Hb(1),a.qc("name","req"+n)("value",r.requirement)("checked",r.required),a.Hb(1),a.qc("for","req"+n),a.Hb(1),a.Ic(r.requirement)}}function ae(e,t){1&e&&(a.Zb(0,"button",18),a.Ub(1,"span",19),a.Hc(2," Loading... "),a.Yb())}function be(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",20),a.hc("click",(function(){return a.yc(i),a.jc().addTenderRequirements()})),a.Hc(1,"Add Requirements"),a.Yb()}}var se,de=((se=function(){function e(t,i,r,n){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.swalService=r,this.companyService=n,this.loading=!1,this.otherReq="",this.tenderRequirements=[{id:0,required:!0,requirement:"Evidence of Registration/Incorporation with Corporate Affairs Commission (CAC) Certificate."},{id:0,required:!0,requirement:"CAC form 02"},{id:0,required:!0,requirement:"CAC form 07"},{id:0,required:!0,requirement:"Evidence of current Pension Compliance Certificate."},{id:0,required:!0,requirement:"Evidence of Company Income\u2019s Tax Clearance Certificates."},{id:0,required:!0,requirement:"Evidence of current National Social Insurance Trust Fund (NSITF) Compliance Certificates."},{id:0,required:!0,requirement:"Evidence of current IRR certificate"},{id:0,required:!0,requirement:"Evidence of Company\u2019s Audited Accounts properly stamped and endorsed by a reputable Audit Firm for the year."},{id:0,required:!0,requirement:"Evidence of Financial capability to execute project with reference letter from a reputable bank indicating willingness to provide credit facility for project execution."},{id:0,required:!0,requirement:"Verifiable documentary evidence(s) of similar jobs successfully executed including award letter(s) and Completion Certificate(s)."},{id:0,required:!0,requirement:"Verifiable documentary evidence(s) of similar jobs successfully executed including award letter(s) and Completion Certificate(s)."},{id:0,required:!0,requirement:"Evidence of Ownership or Lease of Equipment, supported with MOU or receipt or invoice of purchase."}]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTender(),this.getRequirements()}},{key:"getTender",value:function(){this.tender=this.companyService.getTender(),console.log(this.tender)}},{key:"onCheckChange",value:function(e,t){this.tenderRequirements[t].required=!this.tenderRequirements[t].required,console.log(this.tenderRequirements)}},{key:"getRequirements",value:function(){var e=this,t=this.utilService.getToken();this.crudService.getRequestImAuth("api/tenderrequirement/allByTender/"+this.tender.id,t).subscribe((function(t){console.log(t),0!==t.length&&(e.tenderRequirements=t)}),(function(e){return console.log(e)}))}},{key:"addTenderRequirements",value:function(){var e=this;this.loading=!0;var t=this.tenderRequirements;""!==this.otherReq.trim()&&t.push({id:0,required:!0,requirement:this.otherReq}),this.crudService.postRequest("api/tenderrequirement/addMultiple",{tenderId:this.tender.id,tenderRequirementPojos:t}).subscribe((function(t){console.log(t),e.loading=!1,0===t.code?e.swalService.success(t.message):e.swalService.error("An Error Occured")}),(function(t){console.log(t),e.loading=!1,e.swalService.error("An Error Occured")}))}}]),e}()).\u0275fac=function(e){return new(e||se)(a.Tb(b.a),a.Tb(v.a),a.Tb(s.a),a.Tb(h.a))},se.\u0275cmp=a.Nb({type:se,selectors:[["app-tender-requirements"]],decls:17,vars:6,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"ngSubmit"],[1,"form-group","row"],[1,"col-md-11","mx-auto"],["class","row check",4,"ngFor","ngForOf"],[1,"row"],["type","text","id","otherReq","name","otherReq","placeholder","Other Requirements",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],[3,"show","spinnerColor"],[1,"row","check"],["type","checkbox","id","req",1,"m-1",3,"name","value","checked","change"],[1,"",3,"for"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Eligibility Requirement"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"form",5),a.hc("ngSubmit",(function(){return t.addTenderRequirements()})),a.Zb(8,"div",6),a.Zb(9,"div",7),a.Fc(10,ce,4,5,"div",8),a.Zb(11,"div",9),a.Zb(12,"textarea",10),a.hc("ngModelChange",(function(e){return t.otherReq=e})),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(13,"div",11),a.Fc(14,ae,3,0,"button",12),a.Fc(15,be,2,0,"button",13),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Ub(16,"ngx-loading-x",14)),2&e&&(a.Hb(10),a.qc("ngForOf",t.tenderRequirements),a.Hb(2),a.qc("ngModel",t.otherReq),a.Hb(2),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading),a.Hb(1),a.qc("show",t.loading)("spinnerColor","#3a9d5d"))},directives:[c.E,c.p,c.q,r.s,c.c,c.o,c.r,r.t,d.a],styles:[""]}),se);function le(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td"),a.Zb(8,"div"),a.Hc(9),a.Yb(),a.Yb(),a.Zb(10,"td",27),a.Zb(11,"button",28),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().editLot(e)})),a.Hc(12,"Edit"),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit;a.Hb(3),a.Jc(" ",r.lotNumber," "),a.Hb(3),a.Jc(" ",r.category," "),a.Hb(3),a.Jc(" ",r.description||"Description not available"," ")}}function ue(e,t){if(1&e&&(a.Zb(0,"option",29),a.Hc(1),a.Yb()),2&e){var i=t.$implicit;a.qc("value",i.id),a.Hb(1),a.Ic(i.categoryName)}}function me(e,t){1&e&&(a.Zb(0,"button",30),a.Ub(1,"span",31),a.Hc(2," Loading... "),a.Yb())}function pe(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",32),a.hc("click",(function(){return a.yc(i),a.jc().addTenderLot()})),a.Hc(1),a.Yb()}if(2&e){var r=a.jc();a.Hb(1),a.Ic(r.isAdd?"Add Tender Lot":"Update Tender Lot")}}var fe,ve=((fe=function(){function e(t,i,r,n,o){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.companyService=r,this.swalService=n,this.form=o,this.loading=!1,this.tenderLot=[],this.tenderCategory=[],this.isAdd=!0,this.lot=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTender(),this.getTenderLot(),this.getTenderCategory(),this.tenderLotForm=this.form.group({description:["",c.C.required],lotNumber:["",c.C.required],category:["",c.C.required]})}},{key:"getTender",value:function(){this.tender=this.companyService.getTender()}},{key:"getTenderCategory",value:function(){var e=this,t=this.utilService.getToken();this.crudService.getRequestImAuth("api/tendercategory/allByTender/"+this.tender.id,t).subscribe((function(t){Array.isArray(t)&&(e.tenderCategory=t)}),(function(e){return console.log(e)}))}},{key:"editLot",value:function(e){console.log(e);var t=e.category,i=e.description,r=e.lotNumber;this.tenderLotForm.setValue({category:t,description:i,lotNumber:r}),this.isAdd=!1,this.lot=e}},{key:"getTenderLot",value:function(){var e=this,t=this.utilService.getToken();this.crudService.getRequestImAuth("api/tenderlot/allByTender/"+this.tender.id,t).subscribe((function(t){0!==t.length&&(e.tenderLot=t)}),(function(e){return console.log(e)}))}},{key:"addTenderLot",value:function(){var e=this;this.loading=!0,this.tenderLotForm.value.id=0,this.tenderLotForm.value.tenderId=this.tender.id,this.tenderLotForm.value.category=this.category.categoryName,this.tenderLotForm.value.tenderCategoryId=this.category.id;var t=this.crudService.postRequest("api/tenderlot/add",this.tenderLotForm.value);this.isAdd||(this.tenderLotForm.value.id=this.lot.id,this.tenderLotForm.value.tenderId=this.lot.tenderId,t=this.crudService.putRequest("api/tenderlot/edit",this.tenderLotForm.value)),t.subscribe((function(t){e.loading=!1,0===t.code?(e.swalService.success(t.message),e.getTenderLot()):e.swalService.error("An Error Occured")}),(function(t){e.loading=!1,console.log(t),e.swalService.error("An Error Occured")}))}},{key:"setCategory",value:function(e){var t=this.tenderCategory.filter((function(t){return t.id===Number(e)}));this.category=t[0]}}]),e}()).\u0275fac=function(e){return new(e||fe)(a.Tb(b.a),a.Tb(v.a),a.Tb(h.a),a.Tb(s.a),a.Tb(c.f))},fe.\u0275cmp=a.Nb({type:fe,selectors:[["app-tender-lot"]],decls:47,vars:5,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mt-2","mb-5"],["span","1",2,"width","20%"],["span","1",2,"width","25%"],["span","1",2,"width","40%"],["span","1",2,"width","15%"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","description",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","description","formControlName","description","name","description","placeholder","Description",1,"form-control"],["type","text","id","lotNumber","formControlName","lotNumber","name","lotNumber","placeholder","Lot Numder",1,"form-control"],[1,"row"],["for","category",1,"col-md-3","col-form-label"],["id","category","formControlName","category",1,"form-control",3,"change"],["value","","selected","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],[1,"text-center"],[1,"btn","btn-theme-primary",3,"click"],[3,"value"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Tender Lot"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"colgroup"),a.Ub(9,"col",6),a.Ub(10,"col",7),a.Ub(11,"col",8),a.Ub(12,"col",9),a.Yb(),a.Zb(13,"thead",10),a.Zb(14,"tr"),a.Zb(15,"th"),a.Hc(16,"Lot Number"),a.Yb(),a.Zb(17,"th"),a.Hc(18,"Lot Category"),a.Yb(),a.Zb(19,"th"),a.Hc(20,"Lot Description"),a.Yb(),a.Zb(21,"th"),a.Hc(22,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(23,"tbody",11),a.Fc(24,le,13,3,"tr",12),a.Yb(),a.Yb(),a.Zb(25,"form",13),a.hc("ngSubmit",(function(){return t.addTenderLot()})),a.Zb(26,"div",14),a.Zb(27,"label",15),a.Hc(28,"Description"),a.Yb(),a.Zb(29,"div",16),a.Ub(30,"input",17),a.Yb(),a.Yb(),a.Zb(31,"div",14),a.Zb(32,"label",15),a.Hc(33,"Lot Numder"),a.Yb(),a.Zb(34,"div",16),a.Ub(35,"input",18),a.Yb(),a.Yb(),a.Zb(36,"div",19),a.Zb(37,"label",20),a.Hc(38,"Category"),a.Yb(),a.Zb(39,"div",16),a.Zb(40,"select",21),a.hc("change",(function(e){return t.setCategory(e.target.value)})),a.Zb(41,"option",22),a.Hc(42,"Please select category"),a.Yb(),a.Fc(43,ue,2,2,"option",23),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(44,"div",24),a.Fc(45,me,3,0,"button",25),a.Fc(46,pe,2,1,"button",26),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(24),a.qc("ngForOf",t.tenderLot),a.Hb(1),a.qc("formGroup",t.tenderLotForm),a.Hb(18),a.qc("ngForOf",t.tenderCategory),a.Hb(2),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading))},directives:[r.s,c.E,c.p,c.i,c.c,c.o,c.h,c.A,c.t,c.D,r.t],styles:[""]}),fe);function he(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.kc(7,"number"),a.Yb(),a.Yb(),a.Zb(8,"td",8),a.Zb(9,"button",11),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().setSubscription(e,"edit")})),a.Hc(10,"Edit"),a.Yb(),a.Zb(11,"button",12),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().setSubscription(e)})),a.Hc(12,"Priviledges"),a.Yb(),a.Zb(13,"button",13),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().deleteSubscription(e.id)})),a.Hc(14,"Delete"),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit;a.Hb(3),a.Jc(" ",r.category," "),a.Hb(3),a.Jc(" \u20a6 ",a.lc(7,2,r.amount)," ")}}var ge,Ye=function(){return["/admin/subscription/add"]},Ze=((ge=function(){function e(t,i,r,n){_classCallCheck(this,e),this.crud=t,this.swal=i,this.companyService=r,this.router=n,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getSubscriptions()}},{key:"getSubscriptions",value:function(){var e=this;this.crud.getRequest("api/subscription/findAll").subscribe((function(t){console.log(t),e.subscriptions=t}),(function(e){console.log(e)}))}},{key:"setSubscription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";return this.companyService.setSub(e),this.router.navigate("edit"===t?["/admin/subscription/edit"]:["/admin/subscription/priviledges"])}},{key:"deleteSubscription",value:function(e){var t=this;this.crud.deleteRequest("api/subscription/delete/"+e).subscribe((function(e){t.swal.success(e.message),t.getSubscriptions()}),(function(e){console.log(e),t.swal.error("An error occured.")}))}}]),e}()).\u0275fac=function(e){return new(e||ge)(a.Tb(b.a),a.Tb(s.a),a.Tb(h.a),a.Tb(n.c))},ge.\u0275cmp=a.Nb({type:ge,selectors:[["app-subscription"]],decls:20,vars:3,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","bg-theme-primary","text-white","m-2","my-sm-0",3,"routerLink"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mt-2","mb-5"],[1,"thead-light"],[1,"text-center"],[1,""],[4,"ngFor","ngForOf"],[1,"btn","btn-theme-primary","m-1",3,"click"],[1,"btn","ca-btn-primary","m-1",3,"click"],[1,"btn","btn-danger","m-1",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Subscriptions"),a.Yb(),a.Zb(6,"button",4),a.Hc(7," Add Subscription "),a.Yb(),a.Yb(),a.Zb(8,"div",5),a.Zb(9,"table",6),a.Zb(10,"thead",7),a.Zb(11,"tr"),a.Zb(12,"th"),a.Hc(13,"Category"),a.Yb(),a.Zb(14,"th"),a.Hc(15,"Amount"),a.Yb(),a.Zb(16,"th",8),a.Hc(17,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"tbody",9),a.Fc(19,he,15,4,"tr",10),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(6),a.qc("routerLink",a.sc(2,Ye)),a.Hb(13),a.qc("ngForOf",t.subscriptions))},directives:[n.d,r.s],pipes:[r.g],styles:[""]}),ge);function ye(e,t){1&e&&(a.Zb(0,"button",15),a.Ub(1,"span",16),a.Hc(2," Loading... "),a.Yb())}function He(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",17),a.hc("click",(function(){return a.yc(i),a.jc().addSubscription()})),a.Hc(1),a.Yb()}if(2&e){var r=a.jc();a.Hb(1),a.Ic(r.isAdd?"Add Subscription":"Update Subscription")}}var Ce,qe=((Ce=function(){function e(t,i,r,n,o,c){var a=this;_classCallCheck(this,e),this.crudService=t,this.companyService=i,this.swalService=r,this.router=n,this.route=o,this.form=c,this.loading=!1,this.subscription={id:0,category:"",amount:0},this.isAdd=!0,this.navigationSubscription=this.router.events.subscribe((function(e){"edit"===a.route.snapshot.params.type&&(a.isAdd=!1,a.subscription=a.companyService.getSub())}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.subscriptionForm=this.form.group({category:[this.subscription.category,c.C.required],amount:[this.subscription.amount,c.C.required]})}},{key:"addSubscription",value:function(){var e=this;this.loading=!0,this.subscriptionForm.value.id=0;var t=this.crudService.postRequest("api/subscription/add",this.subscriptionForm.value);this.isAdd||(t=this.crudService.putRequest("api/subscription/edit",this.subscriptionForm.value),this.subscriptionForm.value.id=this.subscription.id),t.subscribe((function(t){e.loading=!1,0===t.code?(e.swalService.success(t.message),e.router.navigate(["/admin/subscription"])):e.swalService.error("An Error Occured")}),(function(t){e.loading=!1,console.log(t),e.swalService.error("An Error Occured")}))}},{key:"ngOnDestroy",value:function(){this.navigationSubscription&&this.navigationSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ce)(a.Tb(b.a),a.Tb(h.a),a.Tb(s.a),a.Tb(n.c),a.Tb(n.a),a.Tb(c.f))},Ce.\u0275cmp=a.Nb({type:Ce,selectors:[["app-add"]],decls:21,vars:3,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","category",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","category","formControlName","category","name","category","placeholder","Category",1,"form-control"],["for","amount",1,"col-md-3","col-form-label"],["type","number","id","amount","formControlName","amount","name","amount","placeholder","Amount",1,"form-control"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Add Subscription"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"form",5),a.hc("ngSubmit",(function(){return t.addSubscription()})),a.Zb(8,"div",6),a.Zb(9,"label",7),a.Hc(10,"Category"),a.Yb(),a.Zb(11,"div",8),a.Ub(12,"input",9),a.Yb(),a.Yb(),a.Zb(13,"div",6),a.Zb(14,"label",10),a.Hc(15,"Amount"),a.Yb(),a.Zb(16,"div",8),a.Ub(17,"input",11),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"div",12),a.Fc(19,ye,3,0,"button",13),a.Fc(20,He,2,1,"button",14),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(7),a.qc("formGroup",t.subscriptionForm),a.Hb(12),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading))},directives:[c.E,c.p,c.i,c.c,c.o,c.h,c.u,r.t],styles:[""]}),Ce);function we(e,t){1&e&&(a.Zb(0,"button",19),a.Ub(1,"span",20),a.Hc(2," Loading... "),a.Yb())}function Se(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",21),a.hc("click",(function(){return a.yc(i),a.jc().addpriviledge()})),a.Hc(1),a.Yb()}if(2&e){var r=a.jc();a.Hb(1),a.Jc(" ",r.isAdd?"Add Priviledge":"Update Priviledge"," ")}}function ke(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td"),a.Zb(5,"div"),a.Hc(6),a.Yb(),a.Yb(),a.Zb(7,"td",22),a.Zb(8,"button",23),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().editPriviledge(e)})),a.Hc(9," Edit "),a.Yb(),a.Zb(10,"button",24),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().deletePriviledge(e.id)})),a.Hc(11," Delete "),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit,n=t.index;a.Hb(3),a.Jc(" ",n+1," "),a.Hb(3),a.Jc(" ",r.privilege," ")}}function xe(e,t){1&e&&(a.Zb(0,"div",25),a.Hc(1," No priviledges added yet. "),a.Yb())}var Fe,Te,Ie=((Te=function(){function e(t,i,r,n,o){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.companyService=r,this.swalService=n,this.form=o,this.loading=!1,this.priviledges=[],this.isAdd=!0,this.priviledge=null,this.subscription={id:0,category:""}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTender(),this.subscription=this.companyService.getSub(),this.getPriviledges(this.subscription.id),this.priviledgeForm=this.form.group({privilege:["",c.C.required]})}},{key:"getTender",value:function(){this.tender=this.companyService.getTender()}},{key:"editPriviledge",value:function(e){var t=e.privilege;this.priviledgeForm.setValue({privilege:t}),this.isAdd=!1,this.priviledge=e}},{key:"getPriviledges",value:function(e){var t=this,i=this.utilService.getToken();this.crudService.getRequestImAuth("api/subscriptionprivilege/allBySubscriptionId/"+e,i).subscribe((function(e){Array.isArray(e)&&(t.priviledges=e)}),(function(e){return console.log(e)}))}},{key:"addpriviledge",value:function(){var e=this;this.loading=!0,this.priviledgeForm.value.id=0,this.priviledgeForm.value.subscriptionId=this.subscription.id;var t=this.crudService.postRequest("api/subscriptionprivilege/add",this.priviledgeForm.value);this.isAdd||(this.priviledgeForm.value.id=this.priviledge.id,this.priviledgeForm.value.subscriptionId=this.priviledge.subscriptionId,t=this.crudService.putRequest("api/subscriptionprivilege/edit",this.priviledgeForm.value)),t.subscribe((function(t){e.loading=!1,0===t.code?(e.swalService.success(t.message),e.getPriviledges(e.subscription.id)):e.swalService.error("An Error Occured")}),(function(t){e.loading=!1,console.log(t),e.swalService.error("An Error Occured")}))}},{key:"deletePriviledge",value:function(e){var t=this;this.crudService.deleteRequest("api/subscriptionprivilege/delete/"+e).subscribe((function(e){t.swalService.success(e.message),t.getPriviledges(t.subscription.id)}),(function(e){console.log(e),t.swalService.error("An error occured.")}))}}]),e}()).\u0275fac=function(e){return new(e||Te)(a.Tb(b.a),a.Tb(v.a),a.Tb(h.a),a.Tb(s.a),a.Tb(c.f))},Te.\u0275cmp=a.Nb({type:Te,selectors:[["app-priviledges"]],decls:29,vars:6,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","privilege",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","privilege","formControlName","privilege","name","privilege","placeholder","Priviledge",1,"form-control"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],[1,"my-5"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mt-2","mb-5"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"],[1,"text-center"],[1,"btn","btn-theme-primary","m-1",3,"click"],[1,"btn","btn-danger","m-1",3,"click"],[1,"my-5","text-center"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"form",5),a.hc("ngSubmit",(function(){return t.addpriviledge()})),a.Zb(8,"div",6),a.Zb(9,"label",7),a.Hc(10,"Priviledge"),a.Yb(),a.Zb(11,"div",8),a.Ub(12,"input",9),a.Yb(),a.Yb(),a.Zb(13,"div",10),a.Fc(14,we,3,0,"button",11),a.Fc(15,Se,2,1,"button",12),a.Yb(),a.Yb(),a.Zb(16,"div",13),a.Zb(17,"table",14),a.Zb(18,"thead",15),a.Zb(19,"tr"),a.Zb(20,"th"),a.Hc(21,"S/N"),a.Yb(),a.Zb(22,"th"),a.Hc(23,"Priviledge"),a.Yb(),a.Zb(24,"th"),a.Hc(25,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(26,"tbody",16),a.Fc(27,ke,12,2,"tr",17),a.Yb(),a.Yb(),a.Fc(28,xe,2,0,"div",18),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(5),a.Jc(" ",t.subscription.category," Priviledges"),a.Hb(2),a.qc("formGroup",t.priviledgeForm),a.Hb(7),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading),a.Hb(12),a.qc("ngForOf",t.priviledges),a.Hb(1),a.qc("ngIf",0==t.priviledges.length))},directives:[c.E,c.p,c.i,c.c,c.o,c.h,r.t,r.s],styles:[""]}),Te),Ae=((Fe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275cmp=a.Nb({type:Fe,selectors:[["app-add-priviledges"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Zb(0,"p"),a.Hc(1,"add-priviledges works!"),a.Yb())},styles:[""]}),Fe);function Ne(e,t){if(1&e){var i=a.ac();a.Zb(0,"tr"),a.Zb(1,"td"),a.Zb(2,"div"),a.Hc(3),a.Yb(),a.Yb(),a.Zb(4,"td",19),a.Zb(5,"button",20),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().editCategory(e)})),a.Hc(6,"Edit"),a.Yb(),a.Zb(7,"button",21),a.hc("click",(function(){a.yc(i);var e=t.$implicit;return a.jc().deleteCategory(e)})),a.Hc(8,"Delete"),a.Yb(),a.Yb(),a.Yb()}if(2&e){var r=t.$implicit;a.Hb(3),a.Jc(" ",r.categoryName," ")}}function Oe(e,t){1&e&&(a.Zb(0,"button",22),a.Ub(1,"span",23),a.Hc(2," Loading... "),a.Yb())}function De(e,t){if(1&e){var i=a.ac();a.Zb(0,"button",24),a.hc("click",(function(){return a.yc(i),a.jc().addTenderCategory()})),a.Hc(1),a.Yb()}if(2&e){var r=a.jc();a.Hb(1),a.Ic(r.isAdd?"Add Tender Category":"Update Tender Category")}}var Re,Le,je,Ue=[{path:"",redirectTo:"tender"},{path:"tender",component:o.a},{path:"create-tender",component:f},{path:"edit-tender",component:C},{path:"tender-requirement",component:de},{path:"tender-lot",component:ve},{path:"tender-categories",component:(Re=function(){function e(t,i,r,n,o){_classCallCheck(this,e),this.crudService=t,this.utilService=i,this.companyService=r,this.swalService=n,this.form=o,this.loading=!1,this.tenderCategory=[],this.isAdd=!0,this.category=null}return _createClass(e,[{key:"ngOnInit",value:function(){this.getTender(),this.getTenderCategory(),this.tenderCategoryForm=this.form.group({categoryName:["",c.C.required]})}},{key:"getTender",value:function(){this.tender=this.companyService.getTender()}},{key:"editCategory",value:function(e){console.log(e);var t=e.categoryName;this.tenderCategoryForm.setValue({categoryName:t}),this.isAdd=!1,this.category=e}},{key:"getTenderCategory",value:function(){var e=this,t=this.utilService.getToken();this.crudService.getRequestImAuth("api/tendercategory/allByTender/"+this.tender.id,t).subscribe((function(t){Array.isArray(t)&&(e.tenderCategory=t)}),(function(e){return console.log(e)}))}},{key:"addTenderCategory",value:function(){var e=this;this.loading=!0,this.tenderCategoryForm.value.id=0,this.tenderCategoryForm.value.tenderId=this.tender.id;var t=this.crudService.postRequest("api/tendercategory/add",this.tenderCategoryForm.value);this.isAdd||(this.tenderCategoryForm.value.id=this.category.id,this.tenderCategoryForm.value.tenderId=this.category.tenderId,t=this.crudService.putRequest("api/tendercategory/edit",this.tenderCategoryForm.value)),t.subscribe((function(t){e.loading=!1,0===t.code?(e.swalService.success(t.message),e.getTenderCategory()):e.swalService.error("An Error Occured")}),(function(t){e.loading=!1,console.log(t),e.swalService.error("An Error Occured")}))}},{key:"deleteCategory",value:function(e){var t=this;this.utilService.getToken(),this.crudService.deleteRequest("api/tendercategory/delete/"+e.id).subscribe((function(e){0===e.code?(t.swalService.success(e.message),t.getTenderCategory()):t.swalService.error("An Error Occured")}),(function(e){t.loading=!1,console.log(e),t.swalService.error("An Error Occured")}))}}]),e}(),Re.\u0275fac=function(e){return new(e||Re)(a.Tb(b.a),a.Tb(v.a),a.Tb(h.a),a.Tb(s.a),a.Tb(c.f))},Re.\u0275cmp=a.Nb({type:Re,selectors:[["app-tender-category"]],decls:28,vars:4,consts:[[1,"row","d-flex","justify-content-center"],[1,"col-md-10"],[1,"card"],[1,"card-header"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mt-2","mb-5"],["span","1",2,"width","70%"],["span","1",2,"width","30%"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],[1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","category",1,"col-md-3","col-form-label"],[1,"col-md-9"],["type","text","id","category","formControlName","categoryName","name","category","placeholder","Category",1,"form-control"],[1,"card-footer"],["class","btn btn-success mx-3","type","button","disabled","",4,"ngIf"],["type","submit","class","btn btn-success mx-3",3,"click",4,"ngIf"],[1,"text-center"],[1,"btn","btn-theme-primary","m-1",3,"click"],[1,"btn","btn-danger","m-1",3,"click"],["type","button","disabled","",1,"btn","btn-success","mx-3"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["type","submit",1,"btn","btn-success","mx-3",3,"click"]],template:function(e,t){1&e&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"strong"),a.Hc(5,"Tender Category"),a.Yb(),a.Yb(),a.Zb(6,"div",4),a.Zb(7,"table",5),a.Zb(8,"colgroup"),a.Ub(9,"col",6),a.Ub(10,"col",7),a.Yb(),a.Zb(11,"thead",8),a.Zb(12,"tr"),a.Zb(13,"th"),a.Hc(14,"Category Category"),a.Yb(),a.Zb(15,"th"),a.Hc(16,"Action"),a.Yb(),a.Yb(),a.Yb(),a.Zb(17,"tbody",9),a.Fc(18,Ne,9,1,"tr",10),a.Yb(),a.Yb(),a.Zb(19,"form",11),a.hc("ngSubmit",(function(){return t.addTenderCategory()})),a.Zb(20,"div",12),a.Zb(21,"label",13),a.Hc(22,"Category"),a.Yb(),a.Zb(23,"div",14),a.Ub(24,"input",15),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(25,"div",16),a.Fc(26,Oe,3,0,"button",17),a.Fc(27,De,2,1,"button",18),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&e&&(a.Hb(18),a.qc("ngForOf",t.tenderCategory),a.Hb(1),a.qc("formGroup",t.tenderCategoryForm),a.Hb(7),a.qc("ngIf",t.loading),a.Hb(1),a.qc("ngIf",!t.loading))},directives:[r.s,c.E,c.p,c.i,c.c,c.o,c.h,r.t],styles:[""]}),Re)},{path:"applications",component:U},{path:"accounts",component:x},{path:"contractors",component:J},{path:"contractor-documents/:id",component:oe},{path:"artisans",component:G},{path:"mdas",component:W},{path:"suppliers",component:ie},{path:"subscription",component:Ze},{path:"subscription/priviledges",component:Ie},{path:"subscription/priviledges/:type",component:Ae},{path:"subscription/:type",component:qe}],Ee=((Le=function e(){_classCallCheck(this,e)}).\u0275mod=a.Rb({type:Le}),Le.\u0275inj=a.Qb({factory:function(e){return new(e||Le)},imports:[[n.g.forChild(Ue)],n.g]}),Le),Pe=i("VADE"),_e=((je=function e(){_classCallCheck(this,e)}).\u0275mod=a.Rb({type:je}),je.\u0275inj=a.Qb({factory:function(e){return new(e||je)},imports:[[r.c,Ee,c.k,c.y,d.b,Pe.b,T.b,F.b.forRoot()]]}),je)}}]);