(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{pje0:function(e,t,i){"use strict";i.r(t),i.d(t,"MdaModule",(function(){return M}));var o=i("ofXK"),n=i("tyNb"),b=i("RdAW"),r=i("fXoL"),c=i("SiJz"),a=i("K3ix"),l=i("DaGL"),d=i("1LjI"),s=i("IkSl");function p(e,t){if(1&e&&r.Ub(0,"img",3),2&e){const e=r.jc();r.qc("src",e.file,r.Ac)}}function f(e,t){if(1&e&&(r.Zb(0,"div",4),r.Ub(1,"pdf-viewer",5),r.Yb()),2&e){const e=r.jc();r.Hb(1),r.qc("src",e.file)("render-text",!0)}}let h=(()=>{class e{constructor(e){this.companyService=e,this.doctype="img",this.file=this.companyService.getDocument()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(d.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-view"]],inputs:{doctype:"doctype"},decls:3,vars:2,consts:[[1,"container","overflow-auto"],["width","100%","height","100%","alt","document","srcset","",3,"src",4,"ngIf"],["class","pdf-viewer overflow-auto",4,"ngIf"],["width","100%","height","100%","alt","document","srcset","",3,"src"],[1,"pdf-viewer","overflow-auto"],[2,"display","block",3,"src","render-text"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Fc(1,p,1,1,"img",1),r.Fc(2,f,2,2,"div",2),r.Yb()),2&e&&(r.Hb(1),r.qc("ngIf","img"===t.doctype),r.Hb(1),r.qc("ngIf","pdf"===t.doctype))},directives:[o.t,s.a],styles:[".pdf-viewer[_ngcontent-%COMP%]{height:600px;width:100%}"]}),e})();function u(e,t){if(1&e){const e=r.ac();r.Zb(0,"tr"),r.Zb(1,"td"),r.Zb(2,"div"),r.Hc(3),r.Yb(),r.Yb(),r.Zb(4,"td"),r.Zb(5,"div"),r.Hc(6),r.Yb(),r.Yb(),r.Zb(7,"td"),r.Zb(8,"div"),r.Hc(9),r.Yb(),r.Yb(),r.Zb(10,"td"),r.Zb(11,"div"),r.Hc(12),r.kc(13,"date"),r.Yb(),r.Yb(),r.Zb(14,"td",11),r.Zb(15,"button",12),r.hc("click",(function(){r.yc(e);const i=t.$implicit,o=r.jc(),n=r.wc(24);return o.openModal(n,i)})),r.Hc(16,"Affidavit"),r.Yb(),r.Zb(17,"button",13),r.hc("click",(function(){r.yc(e);const i=t.$implicit,o=r.jc(),n=r.wc(24);return o.openModal(n,i,"bank")})),r.Hc(18,"Bank Referral"),r.Yb(),r.Yb(),r.Yb()}if(2&e){const e=t.$implicit;r.Hb(3),r.Jc(" ",e.companyName||""," "),r.Hb(3),r.Jc(" ",e.tenderTitle||""," "),r.Hb(3),r.Jc(" ",e.mdaName||""," "),r.Hb(3),r.Jc(" ",r.mc(13,4,e.applicationDate,"mediumDate")," ")}}function m(e,t){1&e&&(r.Zb(0,"div",14),r.Zb(1,"span"),r.Hc(2,"No applications received yet."),r.Yb(),r.Yb())}function g(e,t){if(1&e){const e=r.ac();r.Zb(0,"div",15),r.Zb(1,"h4",16),r.Hc(2,"Document"),r.Yb(),r.Zb(3,"button",17),r.hc("click",(function(){return r.yc(e),r.jc().modalRef.hide()})),r.Zb(4,"span",18),r.Hc(5,"\xd7"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",19),r.Ub(7,"app-view"),r.Yb(),r.Zb(8,"div",20),r.Zb(9,"button",21),r.hc("click",(function(){return r.yc(e),r.jc().modalRef.hide()})),r.Hc(10,"Close"),r.Yb(),r.Yb()}}let v=(()=>{class e{constructor(e,t,i,o){this.crudService=e,this.modalService=t,this.swalService=i,this.companyService=o,this.applications=[]}ngOnInit(){this.getAccounts()}getAccounts(){this.loading=!0,this.crudService.getRequest("api/companyprofile/all/company/profiles/that/purchased/mda/tender").subscribe(e=>{console.log(e),this.applications=e,this.loading=!1},e=>{console.log(e),this.loading=!1,this.swalService.error("There was an error fetching all applications.")})}openModal(e,t,i="aff"){this.companyService.setDocument("aff"===i?t.affidavitList[0]:t.bankRefList[0]),this.modalRef=this.modalService.show(e,Object.assign({},{class:"gray modal-lg"}))}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(c.a),r.Tb(a.a),r.Tb(l.a),r.Tb(d.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-applications"]],decls:25,vars:2,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-body"],["summary","List of projects","aria-role","table",1,"table","stripped-alt","table-responsive-sm","table-xs-responsive","table-hover","table-outline","mb-0"],[1,"thead-light"],[1,""],[4,"ngFor","ngForOf"],["class","my-5 text-center",4,"ngIf"],["template",""],[1,"text-center"],[1,"btn","ca-btn-primary","m-1",3,"click"],[1,"btn","btn-theme-primary","m-1",3,"click"],[1,"my-5","text-center"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"h2"),r.Hc(5,"Applications"),r.Yb(),r.Yb(),r.Zb(6,"div",4),r.Zb(7,"table",5),r.Zb(8,"thead",6),r.Zb(9,"tr"),r.Zb(10,"th"),r.Hc(11,"Contractor"),r.Yb(),r.Zb(12,"th"),r.Hc(13,"Lot"),r.Yb(),r.Zb(14,"th"),r.Hc(15,"MDA"),r.Yb(),r.Zb(16,"th"),r.Hc(17,"Application Date"),r.Yb(),r.Zb(18,"th"),r.Hc(19,"Documents"),r.Yb(),r.Yb(),r.Yb(),r.Zb(20,"tbody",7),r.Fc(21,u,19,7,"tr",8),r.Yb(),r.Yb(),r.Fc(22,m,3,0,"div",9),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Fc(23,g,11,0,"ng-template",null,10,r.Gc)),2&e&&(r.Hb(21),r.qc("ngForOf",t.applications),r.Hb(1),r.qc("ngIf",!t.loading&&0===t.applications.length))},directives:[o.s,o.t,h],pipes:[o.f],styles:[""]}),e})();var Y=i("rvnR"),Z=i("3Pt+"),y=i("IxO+");const w=[{path:"",redirectTo:"tender"},{path:"tender",component:b.a},{path:"profile",component:(()=>{class e{constructor(e,t,i){this.crudService=e,this.utilService=t,this.swalService=i,this.loading=!1,this.profile={acronym:"",address:"",briefDescription:"",businessOverview:"",dateCreated:"",email:"",facebook:"",name:"",id:0,instagram:"",logoUrl:"",phoneNumber:"",twitter:"",userId:0,mdaAddress:"",whatsAppNumber:""}}ngOnInit(){this.getProfile()}getProfile(){this.loading=!0;const e=this.utilService.getUser(),t=this.utilService.getToken();this.crudService.getRequestImAuth("api/mda/get/"+e,t).subscribe(e=>{console.log(e),this.profile=e,this.loading=!1},e=>{this.loading=!1})}getUploadUrl(e){this.loading=!0;const t=e.target.files[0],i=new FormData;i.append("file",t,t.name),this.crudService.postRequestFile("uploadMe",i).subscribe(e=>{0===e.code?(this.profile.logoUrl=e.message,this.updateProfile(),this.swalService.success("File path saved.")):(this.loading=!1,this.swalService.error("An error occured"))},e=>{this.loading=!1,this.swalService.error("Could not get file path.")})}updateProfile(){this.loading=!0,this.profile.userId=Number(this.utilService.getUser()),this.crudService.putRequest("api/mda/edit",this.profile).subscribe(e=>{this.getProfile(),this.swalService.success("Profile updated successfully"),this.loading=!1},e=>{this.loading=!1,this.swalService.error("There was an error updating your profile")})}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(c.a),r.Tb(Y.a),r.Tb(l.a))},e.\u0275cmp=r.Nb({type:e,selectors:[["app-mda-profile"]],decls:123,vars:18,consts:[[1,"animated","fadeIn","mb-5","pb-5"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["action","#","role","form",1,"form-horizontal"],[1,"row","py-5"],[1,"col-md-4","w-100"],[1,"form-group","row"],[1,"form-img","text-center"],["alt","profile picture","width","180px","height","150px","onerror","this.src='../../../../assets/img/avatars/6.jpg'",3,"src"],[1,"text-center","mt-3","mb-2"],[1,"btn","btn-theme-primary"],[1,"file-upload","my-auto","h-100"],["type","file",3,"change"],[1,"fa","fa-cloud-upload"],[1,"table","table-striped","table-hover"],[2,"width","60%"],[1,"badge","badge-success"],[1,"col-md-8"],[1,""],[1,"col-md-3","col-form-label"],[1,"col-md-9","controls"],[1,"col-md-9"],["name","acronym","type","text","placeholder","Acronym",1,"form-control",3,"ngModel","ngModelChange"],["name","name","type","text","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["name","mdaAddress","type","text","placeholder","MDA Address",1,"form-control",3,"ngModel","ngModelChange"],["name","briefDescription","rows","3","placeholder","Brief business description",1,"form-control",3,"ngModel","ngModelChange"],["name","businessOverview","rows","3","placeholder","Business Overview",1,"form-control",3,"ngModel","ngModelChange"],["name","address","type","text","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],["name","email","type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["name","phoneNumber","type","text","placeholder","mobile phone",1,"form-control",3,"ngModel","ngModelChange"],["name","instagram","type","text","placeholder","Instagram",1,"form-control",3,"ngModel","ngModelChange"],["name","facebook","type","text","placeholder","facebook",1,"form-control",3,"ngModel","ngModelChange"],["name","twitter","type","text","placeholder","twitter",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","my-5","pt-3"],[1,"btn","btn-lg","btn-theme-primary",3,"click"],[1,"menu-icon"],[1,"fa","fa-fw","fa-check"],[3,"show","spinnerColor"]],template:function(e,t){1&e&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"form",5),r.Zb(6,"div",6),r.Zb(7,"div",7),r.Zb(8,"div",8),r.Zb(9,"div",2),r.Zb(10,"div",9),r.Ub(11,"img",10),r.Yb(),r.Zb(12,"div",11),r.Zb(13,"button",12),r.Zb(14,"label",13),r.Zb(15,"input",14),r.hc("change",(function(e){return t.getUploadUrl(e)})),r.Yb(),r.Ub(16,"i",15),r.Hc(17," Upload "),r.Yb(),r.Yb(),r.Yb(),r.Ub(18,"br"),r.Zb(19,"div"),r.Zb(20,"table",16),r.Zb(21,"tbody"),r.Zb(22,"tr"),r.Zb(23,"td",17),r.Hc(24,"Status"),r.Yb(),r.Zb(25,"td"),r.Zb(26,"span",18),r.Hc(27,"Active"),r.Yb(),r.Yb(),r.Yb(),r.Zb(28,"tr"),r.Zb(29,"td"),r.Hc(30,"Member Since"),r.Yb(),r.Zb(31,"td"),r.Hc(32),r.kc(33,"date"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(34,"div",19),r.Zb(35,"h3",20),r.Hc(36,"General Information"),r.Yb(),r.Zb(37,"div",8),r.Zb(38,"label",21),r.Hc(39,"Acronym"),r.Yb(),r.Zb(40,"div",22),r.Zb(41,"div",1),r.Zb(42,"div",23),r.Zb(43,"input",24),r.hc("ngModelChange",(function(e){return t.profile.acronym=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(44,"div",8),r.Zb(45,"label",21),r.Hc(46,"Name"),r.Yb(),r.Zb(47,"div",22),r.Zb(48,"div",1),r.Zb(49,"div",23),r.Zb(50,"input",25),r.hc("ngModelChange",(function(e){return t.profile.name=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(51,"div",8),r.Zb(52,"label",21),r.Hc(53,"MDA Address"),r.Yb(),r.Zb(54,"div",22),r.Zb(55,"div",1),r.Zb(56,"div",23),r.Zb(57,"input",26),r.hc("ngModelChange",(function(e){return t.profile.mdaAddress=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(58,"div",8),r.Zb(59,"label",21),r.Hc(60,"Business Description"),r.Yb(),r.Zb(61,"div",22),r.Zb(62,"div",1),r.Zb(63,"div",23),r.Zb(64,"textarea",27),r.hc("ngModelChange",(function(e){return t.profile.briefDescription=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(65,"div",8),r.Zb(66,"label",21),r.Hc(67,"Business Overview"),r.Yb(),r.Zb(68,"div",22),r.Zb(69,"div",1),r.Zb(70,"div",23),r.Zb(71,"textarea",28),r.hc("ngModelChange",(function(e){return t.profile.businessOverview=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Ub(72,"hr"),r.Zb(73,"h3",20),r.Hc(74,"Contact Information"),r.Yb(),r.Zb(75,"div",8),r.Zb(76,"label",21),r.Hc(77,"Address"),r.Yb(),r.Zb(78,"div",22),r.Zb(79,"div",1),r.Zb(80,"div",23),r.Zb(81,"input",29),r.hc("ngModelChange",(function(e){return t.profile.address=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(82,"div",8),r.Zb(83,"label",21),r.Hc(84,"Contact Email"),r.Yb(),r.Zb(85,"div",22),r.Zb(86,"div",1),r.Zb(87,"div",23),r.Zb(88,"input",30),r.hc("ngModelChange",(function(e){return t.profile.email=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(89,"div",8),r.Zb(90,"label",21),r.Hc(91,"Mobile Phone"),r.Yb(),r.Zb(92,"div",22),r.Zb(93,"div",1),r.Zb(94,"div",23),r.Zb(95,"input",31),r.hc("ngModelChange",(function(e){return t.profile.phoneNumber=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(96,"div",8),r.Zb(97,"label",21),r.Hc(98,"Instagram"),r.Yb(),r.Zb(99,"div",22),r.Zb(100,"div",1),r.Zb(101,"div",23),r.Zb(102,"input",32),r.hc("ngModelChange",(function(e){return t.profile.instagram=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(103,"div",8),r.Zb(104,"label",21),r.Hc(105,"Facebook"),r.Yb(),r.Zb(106,"div",22),r.Zb(107,"div",1),r.Zb(108,"div",23),r.Zb(109,"input",33),r.hc("ngModelChange",(function(e){return t.profile.facebook=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(110,"div",8),r.Zb(111,"label",21),r.Hc(112,"Twitter"),r.Yb(),r.Zb(113,"div",22),r.Zb(114,"div",1),r.Zb(115,"div",23),r.Zb(116,"input",34),r.hc("ngModelChange",(function(e){return t.profile.twitter=e})),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(117,"div",35),r.Zb(118,"button",36),r.hc("click",(function(){return t.updateProfile()})),r.Zb(119,"span",37),r.Ub(120,"i",38),r.Yb(),r.Hc(121," Update Profile "),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Ub(122,"ngx-loading-x",39)),2&e&&(r.Hb(11),r.qc("src",t.profile.logoUrl,r.Ac),r.Hb(21),r.Ic(r.mc(33,15,null==t.profile?null:t.profile.dateCreated,"mediumDate")),r.Hb(11),r.qc("ngModel",t.profile.acronym),r.Hb(7),r.qc("ngModel",t.profile.name),r.Hb(7),r.qc("ngModel",t.profile.mdaAddress),r.Hb(7),r.qc("ngModel",t.profile.briefDescription),r.Hb(7),r.qc("ngModel",t.profile.businessOverview),r.Hb(10),r.qc("ngModel",t.profile.address),r.Hb(7),r.qc("ngModel",t.profile.email),r.Hb(7),r.qc("ngModel",t.profile.phoneNumber),r.Hb(7),r.qc("ngModel",t.profile.instagram),r.Hb(7),r.qc("ngModel",t.profile.facebook),r.Hb(7),r.qc("ngModel",t.profile.twitter),r.Hb(6),r.qc("show",t.loading)("spinnerColor","#3a9d5d"))},directives:[Z.E,Z.p,Z.q,Z.c,Z.o,Z.r,y.a],pipes:[o.f],styles:["input[type=file][_ngcontent-%COMP%]{display:none}@media screen and (min-width:767px){.form-group[_ngcontent-%COMP%]{margin-left:20px}}"]}),e})()},{path:"applications",component:v}];let H=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[n.g.forChild(w)],n.g]}),e})(),M=(()=>{class e{}return e.\u0275mod=r.Rb({type:e}),e.\u0275inj=r.Qb({factory:function(t){return new(t||e)},imports:[[o.c,H,Z.k,Z.y,y.b,a.b.forRoot(),s.b]]}),e})()}}]);