(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{AiYy:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p}));var a=n("mrSG"),r=n("fXoL"),c=n("ofXK");const o=["*"],s=new r.t("paystack.publickey");let i=(()=>{class t{constructor(t){this.token=t}loadScript(){return new Promise(t=>{if(window.PaystackPop&&"function"==typeof window.PaystackPop.setup)return void t();const e=window.document.createElement("script");window.document.head.appendChild(e);const n=()=>{e.removeEventListener("load",n),t()};e.addEventListener("load",n),e.setAttribute("src","https://js.paystack.co/v1/inline.js")})}checkInput(t){return t.key||this.token?t.email?t.amount?t.ref?"":"ANGULAR-PAYSTACK: Paystack ref cannot be empty":"ANGULAR-PAYSTACK: Paystack amount cannot be empty":"ANGULAR-PAYSTACK: Paystack email cannot be empty":"ANGULAR-PAYSTACK: Please insert a your public key"}getPaystackOptions(t){return{key:t.key||this.token,email:t.email,amount:t.amount,ref:t.ref,metadata:t.metadata||{},currency:t.currency||"NGN",plan:t.plan||"",channels:t.channels,quantity:t.quantity||"",subaccount:t.subaccount||"",transaction_charge:t.transaction_charge||0,bearer:t.bearer||""}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(s))},t.\u0275prov=r.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(r.Pb)({factory:function(){return new t(Object(r.dc)(s))},token:t,providedIn:"root"}),t})(),u=(()=>{class t{constructor(t){this.paystackService=t,this.paymentInit=new r.q,this.onClose=new r.q,this.callback=new r.q,this.isPaying=!1}pay(){return Object(a.a)(this,void 0,void 0,(function*(){let t="";if(this.paystackOptions&&Object.keys(this.paystackOptions).length>=2?(t=this.valdateInput(this.paystackOptions),this.generateOptions(this.paystackOptions)):(t=this.valdateInput(this),this.generateOptions(this)),t)return console.error(t),t;yield this.paystackService.loadScript(),this.isPaying||(this.paymentInit.observers.length&&this.paymentInit.emit(),window.PaystackPop.setup(this._paystackOptions).openIframe(),this.isPaying=!0)}))}valdateInput(t){return this.callback.observers.length?this.paystackService.checkInput(t):"ANGULAR-PAYSTACK: Insert a callback output like so (callback)='PaymentComplete($event)' to check payment status"}generateOptions(t){this._paystackOptions=this.paystackService.getPaystackOptions(t),this._paystackOptions.onClose=()=>{this.onClose.observers.length&&this.onClose.emit()},this._paystackOptions.callback=(...t)=>{this.callback.emit(...t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(i))},t.\u0275cmp=r.Nb({type:t,selectors:[["angular4-paystack"]],inputs:{key:"key",email:"email",amount:"amount",metadata:"metadata",ref:"ref",currency:"currency",plan:"plan",quantity:"quantity",channels:"channels",subaccount:"subaccount",transaction_charge:"transaction_charge",bearer:"bearer",class:"class",style:"style",paystackOptions:"paystackOptions"},outputs:{paymentInit:"paymentInit",onClose:"onClose",callback:"callback"},ngContentSelectors:o,decls:2,vars:2,consts:[[3,"ngClass","ngStyle","click"]],template:function(t,e){1&t&&(r.pc(),r.Zb(0,"button",0),r.hc("click",(function(){return e.pay()})),r.oc(1),r.Yb()),2&t&&r.qc("ngClass",e.class)("ngStyle",e.style)},directives:[c.q,c.w],encapsulation:2}),t})(),p=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[i,{provide:s,useValue:e}]}}}return t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({factory:function(e){return new(e||t)},providers:[],imports:[[c.c]]}),t})()},RFI8:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("fXoL"),r=(n("mrSG"),n("ofXK"));const c=new a.t("Rave.PBFPubKey"),o=new a.t("Rave.IsDevelopment");let s=(()=>{class t{constructor(t,e){this.PBFPubKey=t,this.isDev=e}createRaveOptionsObject(t){const e={};return e.amount=t.amount,e.PBFPubKey=t.PBFPubKey||this.PBFPubKey,t.payment_method&&(e.payment_method=t.payment_method),t.redirect_url&&(e.redirect_url=t.redirect_url),t.integrity_hash&&(e.integrity_hash=t.integrity_hash),t.pay_button_text&&(e.pay_button_text=t.pay_button_text),t.country&&(e.country=t.country),t.currency&&(e.currency=t.currency),t.custom_description&&(e.custom_description=t.custom_description),t.customer_email&&(e.customer_email=t.customer_email),t.custom_logo&&(e.custom_logo=t.custom_logo),t.custom_title&&(e.custom_title=t.custom_title),t.customer_firstname&&(e.customer_firstname=t.customer_firstname),t.subaccount&&(e.subaccount=t.subaccount),t.customer_lastname&&(e.customer_lastname=t.customer_lastname),t.txref&&(e.txref=t.txref),t.customer_phone&&(e.customer_phone=t.customer_phone),e}loadScript(){return new Promise(t=>{if("function"==typeof window.getpaidSetup)return void t();const e=window.document.createElement("script");window.document.head.appendChild(e);const n=()=>{e.removeEventListener("load",n),t()};e.addEventListener("load",n),e.setAttribute("src",this.isDev?"//ravesandboxapi.flutterwave.com/flwv3-pug/getpaidx/api/flwpbf-inline.js":"//api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js")})}isInvalidOptions(t){return t.PBFPubKey||this.PBFPubKey?t.customer_email||t.customer_phone?t.txref?t.currency?t.amount?"":"ANGULAR-RAVE: Amount to charge is required":'ANGULAR-RAVE: Currency is required, Use "NGN" for naira':"ANGULAR-RAVE: A unique transaction reference is required":"ANGULAR-RAVE: Customer email or phone number is required":"ANGULAR-RAVE: Merchant public key is required"}}return t.\u0275fac=function(e){return new(e||t)(a.dc(c),a.dc(o))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(a.Pb)({factory:function(){return new t(Object(a.dc)(c),Object(a.dc)(o))},token:t,providedIn:"root"}),t})(),i=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[s,{provide:c,useValue:e.key},{provide:o,useValue:e.isTest}]}}}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[r.c]]}),t})()},mrSG:function(t,e,n){"use strict";function a(t,e,n,a){return new(n||(n=Promise))((function(r,c){function o(t){try{i(a.next(t))}catch(e){c(e)}}function s(t){try{i(a.throw(t))}catch(e){c(e)}}function i(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}i((a=a.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return a}))}}]);